<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>tzchat</title>

    <!-- SPAëŠ” ë£¨íŠ¸ ê¸°ì¤€ ë¡œë“œ (Vite base:'/'ì™€ ì¼ì¹˜) -->
    <base href="/" />

    <!-- âœ… ë‹¤í¬ ëª¨ë“œ íŒíŠ¸: UAì— 'dark' ì„ í˜¸ ì „ë‹¬(ìŠ¤í¬ë¡¤ë°”/í¼ ê¸°ë³¸í†¤) -->
    <meta name="color-scheme" content="dark" />

    <!-- âœ… ëª¨ë°”ì¼/WebView ì•ˆì „ ë·°í¬íŠ¸ -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no"
    />

    <!-- ì „í™”ë²ˆí˜¸ ìë™ ë§í¬ ë°©ì§€(ë””ìì¸ ê¹¨ì§ ë°©ì§€) -->
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />

    <!-- ìƒíƒœë°”/ì£¼ì†Œì°½ ìƒ‰ìƒ(ë‹¤í¬í†¤) -->
    <meta name="theme-color" content="#121212" />

    <link rel="icon" type="image/png" href="/favicon.png" />

    <!-- iOS PWA ê¸°ë³¸ ì„¤ì • (ë‹¤í¬/íˆ¬ëª… ìƒíƒœë°” ê¶Œì¥) -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="tzchat" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- âœ… ì›¹í°íŠ¸(í­ ì°¨ì´ ë°©ì§€ìš©) : Interê°€ ì—†ìœ¼ë©´ ì‹œìŠ¤í…œ í°íŠ¸ë¡œ ëŒ€ì²´ -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />

    <!-- âœ… index.html ìì²´ ìºì‹œ ìµœì†Œí™”(ì„œë²„ í—¤ë”ê°€ ìµœìš°ì„ ì´ì§€ë§Œ ë³´ì¡° ì°¨ë‹¨ìš©) -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <!-- âœ… ì´ˆê¸° ê¹œë¹¡ì„ ë°©ì§€: ì•± ë§ˆìš´íŠ¸ ì´ì „ì—ë„ ë‹¤í¬í†¤ ìœ ì§€ -->
    <style>
      /*
        ì´ˆê¸° ë Œë”(ì•„ì§ Vue/Ionicê°€ ë§ˆìš´íŠ¸ë˜ê¸° ì „)ì—ì„œë„
        ë°°ê²½ì´ í°ìƒ‰ìœ¼ë¡œ ë²ˆì©í•˜ì§€ ì•Šë„ë¡ ë‹¤í¬í†¤ìœ¼ë¡œ ê³ ì •.
        App.vueì˜ theme-gold ë° theme CSS ë¡œë“œ í›„ì—ëŠ” í•´ë‹¹ í† í°ì´ ë®ì–´ì”ë‹ˆë‹¤.
      */
      html,
      body {
        color: #f5f5f5;            /* theme-goldì˜ í…ìŠ¤íŠ¸ í†¤ê³¼ ì¼ì¹˜ */
        background-color: #121212; /* theme-goldì˜ ë°°ê²½ í†¤ê³¼ ì¼ì¹˜ */
        overscroll-behavior: none;
        margin: 0;
        height: 100%;
        min-height: 100dvh;
        -webkit-text-size-adjust: 100%;
      }
      /* ë°ìŠ¤í¬í†± ë³´ì¡°ìš© ìŠ¤í¬ë¡¤ë°”(ë‹¤í¬í†¤) */
      * {
        scrollbar-width: thin;
        scrollbar-color: #666 transparent;
      }
      ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
      }
      ::-webkit-scrollbar-thumb {
        background: #666;
        border-radius: 4px;
      }
    </style>

    <!-- âœ… ë¹Œë“œ/ë°°í¬ ë²„ì „ íƒœê·¸(ë¡œê·¸ ë¶„ì„/ë²„ì „ ì‹ë³„ìš©) -->
    <meta name="app-version" content="index-250810-1" />
  </head>

  <body>
    <noscript>ì´ ì•±ì„ ì‚¬ìš©í•˜ë ¤ë©´ JavaScriptê°€ í•„ìš”í•©ë‹ˆë‹¤.</noscript>

    <div id="app"></div>

    <!-- âœ… PortOne V2 Browser SDK (CDN)
         - PassPortal.vueì—ì„œ window.PortOne ì‚¬ìš©
         - main.tsë³´ë‹¤ ë¨¼ì € ë¡œë“œë˜ì–´ì•¼ í•©ë‹ˆë‹¤ -->
    <script src="https://cdn.portone.io/v2/browser-sdk.js"></script>

    <!-- ê°œë°œ ëª¨ë“œì—ì„œëŠ” /src/main.ts, ë¹Œë“œ í›„ì—ëŠ” Viteê°€ dist/index.htmlì— í•´ì‹œëœ ìì‚°ì„ ì£¼ì… -->
    <script type="module" src="/src/main.ts"></script>

    <!-- âœ… ì§„ë‹¨ ë¡œê·¸(ìºì‹œ/ë¡œë”©/ìì‚° ì£¼ì… í™•ì¸ìš©) -->
    <script>
      (function () {
        try {
          const ver =
            document.querySelector('meta[name="app-version"]')?.content || '(no-version)';
          console.log('%cğŸ§­ tzchat index.html loaded', 'font-weight:bold');
          console.log('ğŸ“Œ app-version(meta):', ver);
          console.log('ğŸŒ location:', window.location.href);

          // link/script ë¡œë“œ ëª©ë¡(ë¹Œë“œ í›„ distì—ì„œëŠ” í•´ì‹œëœ /assets/* ê°€ ë³´ì´ëŠ”ì§€ ì²´í¬)
          const links = Array.from(
            document.querySelectorAll('link[rel="stylesheet"]')
          ).map((l) => l.href);
          const scripts = Array.from(document.querySelectorAll('script')).map(
            (s) => s.src || '(inline/module)'
          );
          console.log('ğŸ“„ stylesheets (index.html scope):', links);
          console.log('ğŸ“œ scripts (index.html scope):', scripts);

          // PortOne SDK ë¡œë“œ ì—¬ë¶€ í™•ì¸
          console.log('âœ… PortOne SDK loaded:', !!window.PortOne);

          // color-scheme / iOS ìƒíƒœë°” ìŠ¤íƒ€ì¼ í™•ì¸
          const colorScheme =
            document.querySelector('meta[name="color-scheme"]')?.content;
          const iosBar =
            document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]')
              ?.content;
          console.log('ğŸŒ“ color-scheme:', colorScheme);
          console.log('ğŸ“± iOS status bar style:', iosBar);

          console.log('â„¹ï¸ Hint: Network íƒ­ì—ì„œ index.htmlì˜ Cache-Control/ETag í™•ì¸í•˜ì„¸ìš”.');
        } catch (e) {
          console.warn('index.html diagnostics failed:', e);
        }
      })();
    </script>
  </body>
</html>
 