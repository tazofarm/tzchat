/* src/theme/variables.css
   -------------------------------------------------------
   전역 레이아웃/접근성 토큰 (색상은 테마 파일이 담당)
   - 색상(background/color) 강제 제거 → theme-*.css가 결정
   - 공통 레이아웃/타이포/세이프에어리어/사이징만 정의
   - iOS 입력줌 방지(16px+), 스크롤/포커스 접근성 포함
   - 로컬/웹/안드로이드 WebView 레이아웃 일치 목적
   ----------------------------------------------------- */

/* =============== 1) 토큰: 레이아웃/타이포/사이징 =============== */
:root {
  /* 반응형 기본 폰트: 14px ~ 18px */
  --base-font-size: clamp(14px, 2.5vw, 18px);
  --line-height-base: 1.5;

  /* 안전 영역(노치/홈 인디케이터) */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
  --safe-right: env(safe-area-inset-right, 0px);

  /* 간격/라운드 공통 */
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --radius-lg: 14px;
  --radius-xl: 20px;

  /* 리스트/테이블 */
  --item-min-height: 52px;         /* 목록 가독성 확보 */
  --table-border: #f0f0f0;         /* 라인 색(중립 회색) */

  /* 입력/버튼 공통 사이징 */
  --ctrl-min-height: 44px;         /* 터치 타깃 44px+ */
  --ctrl-padding-x: 12px;          /* 좌우 패딩 */
  --btn-radius: 12px;              /* 버튼 라운드 */

  /* 포커스 하이라이트 */
  --focus-ring: 0 0 0 3px rgba(56,128,255,0.35);
}

/* =============== 2) 전역 리셋/컨테이너 =============== */
html, body, #app { height: 100%; }

html, body {
  font-size: var(--base-font-size);
  line-height: var(--line-height-base);
  -webkit-text-size-adjust: 100%;
  margin: 0;
  padding: 0;
  overscroll-behavior: none; /* 뷰포트 바운스 최소화 */
}

*,
*::before,
*::after { box-sizing: border-box; }

/* 앱 루트: 동적 뷰포트 + 세이프 에어리어 대응 */
.app-root {
  min-height: 100dvh;                 /* 주소창/툴바 변동 대응 */
  min-height: -webkit-fill-available; /* 일부 WebView 대안 */
  padding-top: var(--safe-top);
  padding-right: var(--safe-right);
  padding-bottom: var(--safe-bottom);
  padding-left: var(--safe-left);
  display: flex;
  flex-direction: column;
}

/* 미디어 요소 기본 반응형 */
img, video, canvas {
  max-width: 100%;
  height: auto;
  display: block;
}

/* 스크롤바 얇게 (지원 브라우저 한정) */
* { scrollbar-width: thin; scrollbar-color: #bbb transparent; }
*::-webkit-scrollbar { height: 6px; width: 6px; }
*::-webkit-scrollbar-thumb { background: #bbb; border-radius: 4px; }

/* 키보드 포커스 가시성 (접근성) */
:focus-visible {
  outline: none;
  box-shadow: var(--focus-ring);
  border-radius: 8px;
}

/* 모션 최소화 선호 시 애니메이션 약화 (접근성) */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}

/* =============== 3) Ionic 컴포넌트 레이아웃 안전핀 =============== */
/* ⚠️ 색상(background/color)은 테마 파일에서 지정됨 */

/* 페이지 안전영역 패딩(상/하 기본 여백 포함) */
ion-content {
  padding-top: calc(var(--safe-top) + var(--space-3));
  padding-bottom: calc(var(--safe-bottom) + var(--space-3));
  padding-left: calc(var(--safe-left) + var(--space-3));
  padding-right: calc(var(--safe-right) + var(--space-3));
  overscroll-behavior: contain; /* 내부 스크롤 바운스 억제 */
}

/* 리스트/아이템: 최소 높이/패딩 + 하단 1px 라인만 */
ion-item {
  --inner-border-width: 0 0 1px 0;      /* 하단 1px */
  --inner-border-color: var(--table-border);
  --min-height: var(--item-min-height);
  --padding-start: var(--ctrl-padding-x);
  --inner-padding-end: var(--ctrl-padding-x);
}

/* 입력/선택/텍스트영역: 최소 높이/패딩만 지정(색은 테마) */
ion-input,
ion-select,
ion-textarea {
  --padding-start: var(--ctrl-padding-x);
  --padding-end: var(--ctrl-padding-x);
  --min-height: var(--ctrl-min-height);
}

/* iOS 입력줌 방지: 16px 이상 보장 */
input, select, textarea {
  font-size: max(16px, 1rem);
}

/* 버튼: 라운드/패딩/최소 높이(색은 테마에서) */
ion-button {
  --border-radius: var(--btn-radius);
  --padding-start: 14px;
  --padding-end: 14px;
  min-height: var(--ctrl-min-height);
}

/* 카드류: 모서리/그림자만 통일(색은 테마에서) */
ion-card {
  border-radius: var(--radius-lg);
  box-shadow: 0 1px 2px rgba(0,0,0,0.04);
}
